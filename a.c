// for every row and column of the matrix write it's connecting pin on thr arduino

#define ROW_1 5
#define ROW_2 12
#define ROW_3 13
#define ROW_4 8
#define ROW_5 A4
#define ROW_6 7
#define ROW_7 3
#define ROW_8 2

#define COL_1 9
#define COL_2 4
#define COL_3 A3
#define COL_4 6
#define COL_5 11
#define COL_6 A2
#define COL_7 10
#define COL_8 A5
////////////////

const byte rows[] = {
    ROW_1, ROW_2, ROW_3, ROW_4, ROW_5, ROW_6, ROW_7, ROW_8
};
const byte col[] = {
  COL_1,COL_2, COL_3, COL_4, COL_5, COL_6, COL_7, COL_8
};
#define A {B00111100,B01111110,B11000011,B11000011,B11111111,B11111111,B11000011,B11000011}
#define B {B11110000,B10001000,B10001000,B11111000,B10001000,B10000100,B10000100,B11111000}
#define C {B01111111,B11111111,B11000000,B11000000,B11000000,B11000000,B11111111,B01111111}
#define D {B11111000,B11001100,B11000110,B11000011,B11000011,B11000011,B11000110,B11111100}
#define E {B01111110,B10000000,B10000000,B11111100,B10000000,B10000000,B01111110,B00000000}
#define F {B11111111,B10000000,B10000000,B11111100,B10000000,B10000000,B10000000,B10000000}
#define G {B11111100,B10000100,B10000100,B10000000,B10011100,B10001100,B10001100,B11111100}
#define H {B11000011,B11000011,B11000011,B11111111,B11111111,B11000011,B11000011,B11000011}
#define I {B01111111,B00001000,B00001000,B00001000,B00001000,B00001000,B00001000,B01111111}
#define J {B01111110,B00001000,B00001000,B00001000,B00001000,B10001000,B10001000,B11111000}
#define K {B00100010,B00100100,B00101000,B00110000,B00101000,B00100100,B00100100,B00100100}
#define L {B11000000,B11000000,B11000000,B11000000,B11000000,B11000000,B11111111,B11111111}
#define M {B10000010,B11000110,B10101010,B10010010,B10000010,B10000010,B10000010,B10000010}
#define N {B10000001,B11000001,B10100001,B10010001,B10001001,B10000101,B10000011,B10000001}
#define O {B01111110,B10000001,B10000001,B10000001,B10000001,B10000001,B10000001,B01111110}
#define P {B01111110,B10000001,B10000001,B10000001,B11111110,B10000000,B10000000,B10000000}
#define Q {B01111100,B10000010,B10000010,B10000010,B10000010,B10000110,B01111110,B00000001}
#define R {B11110000,B10001000,B10001000,B11111000,B10001000,B10000100,B10000100,B10000100}
#define S {B01111111,B10000000,B10000000,B10000000,B01111110,B00000001,B00000001,B11111110}
#define T {B01111111,B00001000,B00001000,B00001000,B00001000,B00001000,B00001000,B00001000}
#define U {B11000011,B11000011,B11000011,B11000011,B11000011,B11000011,B11111111,B01111110}
#define V {B10000010,B10000010,B10000010,B10000010,B01000100,B01000100,B00101000,B00010000}
#define W {B00000000,B10000010,B10000010,B10000010,B10000010,B10010010,B10101010,B11000110}
#define X {B10000001,B01000010,B00100100,B00011000,B00011000,B00100100,B01000010,B10000001}
#define Y {B00000000,B10000010,B01000100,B00101000,B00010000,B00010000,B00010000,B00010000}
#define Z {B11111111,B00000010,B00000100,B00001000,B00010000,B00100000,B01000000,B11111111}
#define Sp {B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000,B00000000}

void setup()
{
    Serial.begin(9600);
    for (byte i = 2; i <= 13; i++)
        pinMode(i, OUTPUT);
    pinMode(A0, OUTPUT);
    pinMode(A1, OUTPUT);
    pinMode(A2, OUTPUT);
    pinMode(A3, OUTPUT);
    pinMode(A5, OUTPUT);
    pinMode(A4, OUTPUT);
}

//write the letters that needed to be shown on the matrix
byte text[100][8] = {Z,E,Z,O,O};

void loop() {
    delay(5);
    draw_scrolling_text(text,15);
}


void  drawScreen(byte ch[])
{
    for (byte i = 0; i < 8; i++)
     {
        digitalWrite(rows[i], HIGH);
        for (byte j = 0; j < 8; j++)
        {
          digitalWrite(col[j], (~ch[i] >> j) & 1);
          delayMicroseconds(100);
          digitalWrite(col[j], 1);
        }
        digitalWrite(rows[i], LOW);
    }
}

void draw_scrolling_text(byte text[][8],int n)
{
  byte scroll[] = { B00000000,
                    B00000000,
                    B00000000,
                    B00000000,
                    B00000000,
                    B00000000,
                    B00000000,
                    B00000000};
  for(int i=0;i<n;i++)
  {
    for(int j=7;j>=0;j--)
    {
        for(int k=0;k<8;k++)
        {
           scroll[k] = scroll[k]<<1;
        }
        for(int k=0;k<8;k++)
        {
          scroll[k] = scroll[k]| (1&(text[i][k]>>j)) ;
        }
        for(int h=0;h<15;h++)
        {
          drawScreen(scroll);
        }
    }
        for(int k=0;k<8;k++)
        {
           scroll[k] = scroll[k]<<1;
        }
  }
}
